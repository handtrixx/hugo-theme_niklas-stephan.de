{{ $js1 := resources.Get "js/bootstrap.bundle.min.js" }}
{{ $js2 := resources.Get "js/main.js" }}

{{ $combinedJS := slice $js1 $js2 | resources.Concat "js/scripts.js" }}
{{ $combinedJS = $combinedJS | minify }}
{{ if hugo.IsProduction }}
    {{ $combinedJS = $combinedJS | fingerprint | resources.PostProcess }}
{{ end }}

<script src="{{ $combinedJS.RelPermalink }}"></script>
{{ if (and .Site.Params.remark42SiteID .Params.comments) }}
<script>
  var remark_config = {
    host: {{ .Site.Params.remark42Url }},
    site_id: {{ .Site.Params.remark42SiteID }},
    url: {{ .Permalink }},
    locale: { .Site.Language.Lang }
  };

  (function(c) {
    for(var i = 0; i < c.length; i++){
      var d = document, s = d.createElement('script');
      s.src = remark_config.host + '/web/' + c[i] +'.js';
      s.defer = true;
      (d.head || d.body).appendChild(s);
    }
  })(remark_config.components || ['embed']);
</script>
{{ end }}
